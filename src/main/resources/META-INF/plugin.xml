<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.adobe.idea-worktrees</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
    <name>Git Worktree Manager</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor url="https://www.adobe.com">Adobe</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
    <description><![CDATA[
        <p>Provides ergonomic support for working with multiple Git worktrees in a single project.</p>

        <h3>Features:</h3>
        <ul>
            <li>Status bar widget showing the current worktree</li>
            <li>Create new worktrees with custom branches</li>
            <li>Switch between worktrees easily</li>
            <li>Delete worktrees safely</li>
            <li>View all worktrees in the repository</li>
        </ul>

        <p>Git worktrees allow you to check out multiple branches simultaneously in different directories,
        making it easy to work on multiple features or bug fixes without switching branches.</p>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Git Worktree Service -->
        <projectService serviceImplementation="com.adobe.ideaworktrees.services.GitWorktreeService"/>

        <!-- Status Bar Widget -->
        <statusBarWidgetFactory id="com.adobe.ideaworktrees.WorktreeStatusBarWidgetFactory"
                                implementation="com.adobe.ideaworktrees.ui.WorktreeStatusBarWidgetFactory"
                                order="after vcsWidget"/>

        <!-- Notification Group -->
        <notificationGroup id="Git Worktree"
                           displayType="BALLOON"
                           isLogByDefault="true"/>
    </extensions>

    <!-- Actions -->
    <actions>
        <group id="com.adobe.ideaworktrees.WorktreeActionGroup"
               class="com.adobe.ideaworktrees.actions.WorktreeActionGroup"
               text="Git Worktrees"
               description="Git worktree operations"
               popup="true">

            <action id="com.adobe.ideaworktrees.CreateWorktreeAction"
                    class="com.adobe.ideaworktrees.actions.CreateWorktreeAction"
                    text="Create New Worktree..."
                    description="Create a new Git worktree"/>

            <action id="com.adobe.ideaworktrees.SwitchWorktreeAction"
                    class="com.adobe.ideaworktrees.actions.SwitchWorktreeAction"
                    text="Switch Worktree..."
                    description="Switch to a different Git worktree"/>

            <action id="com.adobe.ideaworktrees.DeleteWorktreeAction"
                    class="com.adobe.ideaworktrees.actions.DeleteWorktreeAction"
                    text="Delete Worktree..."
                    description="Delete a Git worktree"/>

            <separator/>

            <action id="com.adobe.ideaworktrees.ManageWorktreesAction"
                    class="com.adobe.ideaworktrees.actions.ManageWorktreesAction"
                    text="Show All Worktrees"
                    description="Show information about all Git worktrees"/>

            <!-- Add to VCS menu -->
            <add-to-group group-id="VcsGroups" anchor="last"/>
        </group>
    </actions>
</idea-plugin>
